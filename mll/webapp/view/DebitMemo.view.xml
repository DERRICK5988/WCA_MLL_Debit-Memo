<mvc:View controllerName="mll.controller.DebitMemo"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core" displayBlock="true"
    xmlns="sap.m"
    xmlns:t="sap.ui.table"
    xmlns:layout="sap.ui.layout"
    xmlns:uxap="sap.uxap"
    xmlns:f="sap.f"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:vm="sap.ui.fl.variants"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
    xmlns:i18n="sap.ui.model.resource.ResourceModel">
    <f:DynamicPage id="_IDGenDynamicPage1" headerExpanded="true" toggleHeaderOnTitleClick="true" showFooter="true">
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle id="_IDGenDynamicPageTitle"></f:DynamicPageTitle>
        </f:title>
        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader id="_IDGenDynamicPageHeader1" pinnable="true">
                <f:content>
                    <fb:FilterBar id="idDebitMemoFilterBar" persistencyKey="myPersKey" useToolbar="false" search=".onSearch" clear="onClear" showClearOnFB="true" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad">
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem1" name="project" label="{i18n>PostingStatus}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput1" name="project" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/ProjectVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem1" key="{DMR>EngagementProject}" text="{DMR>EngagementProject}" additionalText="{ path : 'DMR>EngagementProjectName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem2" name="billingdocument" label="{i18n>BillingDocument}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput2" name="billingdocument" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/DebitMemoNumberVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem2" key="{DMR>DebitMemoRequest}" text="{path : 'DMR>DebitMemoRequest'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem3" name="soldtoparty" label="{i18n>SoldToParty}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="idSoldToPartyInput" name="soldtoparty" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/SoldToPartyVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem3" key="{DMR>Customer}" text="{path : 'DMR>Customer'}" additionalText="{ path : 'DMR>CustomerName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem4" name="abrechnungsweg" label="{i18n>Abrechnungsweg}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="idShipToPartyInput" name="abrechnungsweg" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/SoldToPartyVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem4" key="{DMR>Customer}" text="{path : 'DMR>Customer'}" additionalText="{ path : 'DMR>CustomerName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem5" name="patient" label="{i18n>Patient}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiComboBox id="_IDGenMultiComboBox1" name="patient" showSecondaryValues="true" width="300px" items="{ path: 'DMR>/BillingBlockVH', sorter: { path: 'BillingBlockReason' }, templateShareable: false, suspended: false }">
                                        <core:ListItem id="_IDGenListItem5" key="{DMR>BillingBlockReason}" text="{DMR>BillingBlockReasonDescription}" additionalText="{DMR>BillingBlockReason}"/>
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem6" name="createdby" label="{i18n>CreatedBy}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiComboBox id="_IDGenMultiComboBox2" name="createdby" showSecondaryValues="true" width="300px" items="{ path: 'DMR>/OrderReasonVH', sorter: { path: 'SDDocumentReason' }, templateShareable: false, suspended: false }">
                                        <core:ListItem id="_IDGenListItem6" key="{DMR>SDDocumentReason}" text="{DMR>SDDocumentReasonText}" additionalText="{DMR>SDDocumentReason}"/>
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem7" name="fixedvaluedate" label="{i18n>FixedValueDate}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput3" name="fixedvaluedate" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: '/ServiceOrganizationValueHelp' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem7" key="{EngagementProjectServiceOrg}" text="{EngagementProjectServiceOrg}" additionalText="{EngmtProjectServiceOrgName}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem8" name="status" label="{i18n>Status}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiComboBox id="_IDGenMultiComboBox3" name="status" showSecondaryValues="true" width="300px" items="{ path: 'DMR>/DistributionChannelVH', sorter: { path: 'DistributionChannel' }, templateShareable: false, suspended: false }">
                                        <core:ListItem id="_IDGenListItem8" key="{DMR>DistributionChannel}" text="{DMR>DistributionChannel}"/>
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem9" name="customerreference" label="{i18n>CustomerReference}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiComboBox id="_IDGenMultiComboBox4" name="customerreference" showSecondaryValues="true" width="300px" items="{ path: 'DMR>/DivisionVH', sorter: { path: 'Division' }, templateShareable: false, suspended: false }">
                                        <core:ListItem id="_IDGenListItem9" key="{DMR>Division}" text="{DMR>Division}"/>
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem10" name="salesorganization" label="{i18n>SalesOrganization}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput4" name="salesorganization" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/MaterialVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem10" key="{DMR>Product}" text="{path : 'DMR>Product'}" additionalText="{ path : 'DMR>ProductName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem11" name="actualcustomer" label="{i18n>ActualCustomer}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiComboBox id="_IDGenMultiComboBox5" name="actualcustomer" showSecondaryValues="true" width="300px" items="{ path: 'DMR>/PlantVH', sorter: { path: 'Plant' }, templateShareable: false, suspended: false }">
                                        <core:ListItem id="_IDGenListItem11" key="{DMR>Plant}" text="{DMR>PlantName}" additionalText="{DMR>Plant}"/>
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem12" name="Product" label="{i18n>Product}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput5" name="Product" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/ProfitCenterVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem12" key="{DMR>ProfitCenter}" text="{path : 'DMR>ProfitCenter'}" additionalText="{ path : 'DMR>ProfitCenterLongName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!-- <fb:FilterGroupItem id="_IDGenFilterGroupItem13" name="projaccount" label="{i18n>ProjectAccountant}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput13" name="projaccount" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/BusinessUserNameVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem13" key="{DMR>PersonFullName}" text="{path : 'DMR>BusinessPartner'}" additionalText="{ path : 'DMR>PersonFullName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem14" name="projmanager" label="{i18n>ProjectManager}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <MultiInput id="_IDGenMultiInput14" name="projmanager" showValueHelp="true" showSuggestion="true" valueHelpOnly="false" valueHelpRequest=".onValueHelpRequested($event, true)" showClearIcon="true" suggest=".onSuggest" suggestionItems="{ path: 'DMR>/BusinessUserNameVH' }">
                                        <suggestionItems>
                                            <core:ListItem id="_IDGenListItem14" key="{DMR>PersonFullName}" text="{path : 'DMR>BusinessPartner'}" additionalText="{ path : 'DMR>PersonFullName'}"/>
                                        </suggestionItems>
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem15" name="source" label="{i18n>Source}" groupName="Group1" visibleInFilterBar="true">
                                <fb:control>
                                    <ComboBox id="_IDGenComboBox1">
                                        <core:Item id="_IDGenItem1" key="GAP" text='GAP' />
                                        <core:Item id="_IDGenItem2" key="Standard" text='Standard' />
                                        <core:Item id="_IDGenItem3" key="Empty" text='' />
                                    </ComboBox>
                                </fb:control>
                            </fb:FilterGroupItem> -->
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <!-- DynamicPage Content -->
        <f:content>
            <t:Table width="{= !${device>/browser/msie}? 'auto' : '100rem'}" id="idDebitMemoTable" rows="{path: 'DebitMemo>/Items'}" selectionMode="Multi" enableColumnReordering="true" columnSelect="handleColumnSelect($event)" rowSelectionChange="onRowSelected" visibleRowCountMode="Auto" sap.ui.fl:flexibility="sap/m/flexibility/EngineFlex" ariaLabelledBy="title">
                <t:extension>
                    <OverflowToolbar id="_IDGenOverflowToolbar1">
                        <Title id="_IDGenTitle1" text="{= ${DebitMemo>/Items} &amp;&amp; ${DebitMemo>/Items}.length > 0 ?  ${i18n>DebitMemo} + ' (' + ${DebitMemo>/Items}.length + ')' : ${i18n>DebitMemo} + ' (0)'}" level="H2"/>
                        <ToolbarSeparator id="_IDGenToolbarSeparator1"/>
                        <!-- <Title id="_IDGenTitle2" text="{i18n>Personalization}"/>
                        <ToolbarSeparator id="_IDGenToolbarSeparator2"/> -->
                        <!-- <vm:VariantManagement id="_IDGenVariantManagement1" for="idDebitMemoTable"/> -->
                        <ToolbarSpacer id="_IDGenToolbarSpacer1"/>
                        <!-- <Button text="Smart" type="Default" press=".onNavSmart" /> -->
                        <!-- <Button id="_IDGenButton1" icon="sap-icon://excel-attachment" press="onPressExportExcel($event, ${DebitMemo>/}, 'DownloadExcel', 'ExportExcel')" tooltip="Download"/> -->
                        <!-- <Button id="_IDGenButton2" icon="sap-icon://save" press=".onSave" visible="{DebitMemo>/bEditable}" tooltip="{i18n>Save}"/> -->
                        <Button id="_IDGenButton3" icon="sap-icon://action-settings" press=".openPersoDialog($event, 'idDebitMemoTable')"/>
                        <Button id="idDebitMemoBtn" icon="sap-icon://overflow" press="OnPressMenu($event, 'DebitMemoMenu', 'idDebitMemoBtn')" ariaHasPopup="Menu"/>
                    </OverflowToolbar>
                </t:extension>
                <t:noData>
                    <IllustratedMessage id="_IDGenIllustratedMessage1" enableVerticalResponsiveness="true"/>
                </t:noData>
                <t:columns>
                    <t:Column id="idDebitMemoRequest" autoResizable="true" width="250px" sortProperty="{DebitMemo>DebitMemoRequest}">
                        <Label id="_IDGenLabel1" text="{i18n>DebitMemoRequest}" tooltip="{i18n>DebitMemoRequest}"/>
                        <t:template>
                            <Text id="_IDGenText1" text="{DebitMemo>DebitMemoRequest}" tooltip="{DebitMemo>DebitMemoRequest}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idAbrechnungsweg" autoResizable="true" width="100px">
                        <Label id="_IDGenLabel2" text="{i18n>Abrechnungsweg}" tooltip="{i18n>Abrechnungsweg}" wrapping="false"/>
                        <t:template>
                            <Text id="_IDGenText2" text="{DebitMemo>DebitMemoRequestItem}"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idLABID" autoResizable="true" width="200px">
                        <Label id="_IDGenLabel3" text="{i18n>LABID}" tooltip="{i18n>LABID}"/>
                        <t:template>
                            <Link id="_IDGenLink1" text="{DebitMemo>PBDNumber}" emphasized="true" target="_blank" href="{= ${DebitMemo>/sBillingLink} + '?' + ${DebitMemo>PBDNumber} }" />
                        </t:template>
                    </t:Column>
                    <t:Column id="idSoldToParty" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel4" text="{i18n>SoldToParty}" tooltip="{i18n>SoldToParty}"/>
                        <t:template>
                            <Text id="_IDGenText3" text="{path: 'DebitMemo>BillingDocumentDate', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yyyy', UTC: false}}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idSalesOrganization" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel21" text="{i18n>SalesOrganization}" tooltip="{i18n>SalesOrganization}"/>
                        <t:template>
                            <Text id="_IDGenText20" text="{DebitMemo>SalesOrganization}" tooltip="{DebitMemo>SalesOrganization}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idActualCustomer" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel5" text="{i18n>ActualCustomer}" tooltip="{i18n>ActualCustomer}"/>
                        <t:template>
                            <Text id="_IDGenText4" text="{DebitMemo>SalesGroup}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idBillingDocumentItem" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel6" text="{i18n>BillingDocumentItem}" tooltip="{i18n>BillingDocumentItem}"/>
                        <t:template>
                            <Text id="_IDGenText5" text="{DebitMemo>SalesOffice}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idProductDesc" autoResizable="true" width="200px">
                        <Label id="_IDGenLabel8" text="{i18n>BillingDocumentItemText}" tooltip="{i18n>BillingDocumentItemText}"/>
                        <t:template>
                            <Text id="_IDGenText7" text="{DebitMemo>SoldToParty}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idBillingQuantity" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel30" text="{i18n>BillingQuantity}" tooltip="{i18n>BillingQuantity}"/>
                        <t:template>
                            <Text id="_IDGenText29" text="{DebitMemo>BillingQuantity} {DebitMemo>BillingQuantityUnit}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idNetAmount" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel32" text="{i18n>NetAmount}" tooltip="{i18n>NetAmount}"/>
                        <t:template>
                            <ObjectNumber id="_IDGenObjectNumber1" textAlign="End" number="{ path: 'DebitMemo>NetAmount', type: 'sap.ui.model.type.Float', formatOptions: { minFractionDigits: 2, maxFractionDigits: 2 }}" unit="{DebitMemo>TransactionCurrency}"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idGrossAmount" autoResizable="true" width="150px">
                        <Label text="{i18n>GrossAmount}" tooltip="{i18n>GrossAmount}"/>
                        <t:template>
                            <ObjectNumber textAlign="End" number="{ path: 'DebitMemo>GrossAmount', type: 'sap.ui.model.type.Float', formatOptions: { minFractionDigits: 2, maxFractionDigits: 2 }}" unit="{DebitMemo>TransactionCurrency}"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idDistributionChannel" autoResizable="true" width="100px">
                        <Label id="_IDGenLabel13" text="{i18n>Patient}" tooltip="{i18n>Patient}"/>
                        <t:template>
                            <Text id="_IDGenText12" text="{DebitMemo>PatientID} {DebitMemo>PatientName}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idFixedValueDate" autoResizable="true" width="150px">
                        <Label id="_IDGenLabel15" text="{i18n>FixedValueDate}" tooltip="{i18n>FixedValueDate}"/>
                        <t:template>
                            <Text id="_IDGenText14" text="{path: 'DebitMemo>FixedValueDate', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yyyy', UTC: false}}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idCreatedBy" autoResizable="true" width="200px">
                        <Label id="_IDGenLabel19" text="{i18n>CreatedBy}" tooltip="{i18n>CreatedBy}"/>
                        <t:template>
                            <Text id="_IDGenText18" text="{DebitMemo>CreatedBy}" tooltip="{DebitMemo>CreatedBy}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                    <t:Column id="idStatus" autoResizable="true" width="200px">
                        <Label id="_IDGenLabel20" text="{i18n>Status}" tooltip="{i18n>Status}"/>
                        <t:template>
                            <Text id="_IDGenText19" text="{DebitMemo>Status}" tooltip="{DebitMemo>Status}" wrapping="false"/>
                        </t:template>
                    </t:Column>
                </t:columns>
            </t:Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>